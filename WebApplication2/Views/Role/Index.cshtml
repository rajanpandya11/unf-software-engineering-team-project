@using WebApplication2.Models
@model UserRoleViewModel
@{
    ViewBag.Title = "Manage Users & Roles";
}

<table class="table table-striped table-hover" style=" background-color:#FFFFFF; padding: 5px;width: 99%;table-layout:fixed;" cellpadding="6" cellspacing="6">
    <tbody>
    <tr style="height: 30px;  color:#FFFFFF ;">
        <td align="left" colspan="2">
            <h2> Manage Users & Roles</h2>
        </td>
    </tr>
    <tr>         
        <td align="left" style="color:#FFFFFF;padding-right:10;">
            <h3>   @Html.ActionLink("Create New Role", "Create", "Role", new { @class = "btn btn-link" }) </h3>
            <h3>   @Html.ActionLink("Create New User", "NewRegister", "Role",  routeValues: null, htmlAttributes: new { id = "registerLink", @class = "btn btn-link"})</h3>
        </td>
    </tr>
    </tbody>
</table>
<!--<hr/> -->
<br />
<table class="table table-striped table-hover" style=" background-color:#FFFFFF; padding: 10px;width: 50%;table-layout:fixed;" cellpadding="10" cellspacing="10">
    <thead>
    <tr>
        <td class="text-primary">Roles</td>
    </tr>
    </thead>
    <tbody>
        @foreach (var item in Model.Roles)
        {
            <tr>
                <td style="width:100%; border:dotted 1px;">
                    @item.Name
                </td>
            </tr>
        }
    </tbody>
</table>
<br/>
<table class="table table-striped table-hover" style=" background-color:#FFFFFF;  padding: 10px;width: 75%;table-layout:fixed;" cellpadding="10" cellspacing="10">
    <thead>
    <tr>
        <td class="text-primary">User Name</td>
        <td class="text-primary">Email</td>
        <td class="text-primary">Role</td>
    </tr>
    </thead>
    <tbody>
        @foreach (var user in Model.Users)
        {
            var roleId = user.Roles.FirstOrDefault().RoleId;
            var role = Model.Roles.FirstOrDefault(x => x.Id == roleId);
            <tr>
                <td style="width: 100%; border: dotted 1px;">
                    @user.UserName
                </td>
                <td style="width: 100%; border: dotted 1px;">
                    @user.Email
                </td>
                <td style="width: 100%; border: dotted 1px;">
                    @role.Name
                </td>
            </tr>
        }
    </tbody>
</table>









